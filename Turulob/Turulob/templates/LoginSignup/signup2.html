<!DOCTYPE html>
<html lang="english">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='/css/login.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.jpg') }}">

    <title>signup </title>
    <style>
        
/* The message box is shown when the user clicks on the password field */
#message {
    margin: 10px;
    background: #fddcf2af;
    color: #000;
    position: relative;
    padding: 20px;
    margin-top: 10px;
    border:2px solid rgb(253, 15, 146);
    border-radius:10px;
  }
  
  #message p {
    padding: 10px 35px;
    font-size: 18px;
  }
  
  /* Add a green text color and a checkmark when the requirements are right */
  .valid {
    color: green;
  }
  
  .valid:before {
    position: relative;
    left: -35px;
    content: "✔";
  }
  
  /* Add a red text color and an "x" when the requirements are wrong */
  .invalid {
    color: red;
  }
  
  .invalid:before {
    position: relative;
    left: -35px;
    content: "✖";
  }
  #mark1{
      flex-wrap: wrap;
  }
    </style>

</head>

<body>

    {% if message %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>incorrect credential</strong> {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endif %}
    {% if message1 %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>Google Authentication Successfull!</strong> {{ message1 }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
    {% if message2 %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <strong>email verification Successfull!</strong> {{ message2 }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
    <div id="mark1" class="d-flex container justify-content-left">
        <div></div>
        <form autocomplete="on" action="/signup/{{sno}}" method="post" class="col-lg-4 border border-4 rounded px-4"
            id="form">
            <div id="mark2" class="d-flex justify-content-center mt-1" style="color: rgba(240, 0, 92, 0.76);">
                Turu &nbsp;
                <span class="material-icons">
                    favorite_border
                </span>
                &nbsp;&nbsp;
                lob
            </div>


            <div class="form-floating mb-3">
                <input name="username" type="text" id="un" class="form-control" placeholder="Username">
                <label for="un">Username</label>
            </div>

            <div class="form-floating mb-3">
                <input name="password" type="password" id="pwd" name="pwd" class="mb-3 form-control"
                    placeholder="password">
                <label for="pwd">Password</label>
            </div>
            <input type="checkbox" onclick="myFunction()"> Show Password

            <div class="mb-3">
                <button id="login" type="submit" class="btn btn-primary col-12" disabled>Create Account</button>
            </div>
            <hr>
            <div class="mb-4">
                <a id="createnew" href="/login" class="btn col-12 btn-secondary">Login</a>
            </div>
            <br>
        </form>
        <div id="message">
            <h3>Password must contain the following:</h3>
            <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
            <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
            <p id="number" class="invalid">A <b>number</b></p>
            <p id="length" class="invalid">Minimum <b>8 characters</b></p>
          </div>
    </div>




    			
<script>
    var myInput = document.getElementById("pwd");
    var letter = document.getElementById("letter");
    var capital = document.getElementById("capital");
    var number = document.getElementById("number");
    var length = document.getElementById("length");
    var login = document.getElementById("login");
    
    var a,b,c,d;
    
    // When the user starts to type something inside the password field
    myInput.onkeyup = function() {
      // Validate lowercase letters
      var lowerCaseLetters = /[a-z]/g;
      if(myInput.value.match(lowerCaseLetters)) {  
        letter.classList.remove("invalid");
        letter.classList.add("valid");
        a=1;
      } else {
        letter.classList.remove("valid");
        letter.classList.add("invalid");
        a=0;
      }
      
      // Validate capital letters
      var upperCaseLetters = /[A-Z]/g;
      if(myInput.value.match(upperCaseLetters)) {  
        capital.classList.remove("invalid");
        capital.classList.add("valid");
        b=1;
      } else {
        capital.classList.remove("valid");
        capital.classList.add("invalid");
        b=0;
      }
    
      // Validate numbers
      var numbers = /[0-9]/g;
      if(myInput.value.match(numbers)) {  
        number.classList.remove("invalid");
        number.classList.add("valid");
        c=1;
      } else {
        number.classList.remove("valid");
        number.classList.add("invalid");
        c=0;
      }
      
      // Validate length
      if(myInput.value.length >= 8) {
        length.classList.remove("invalid");
        length.classList.add("valid");
        d=1;
      } else {
        length.classList.remove("valid");
        length.classList.add("invalid");
        d=0;
      }
      if(a==1 & b==1 &c==1 &d==1){
          login.disabled=false;
      }
      else{
        login.disabled=true;
      }
    }




    function myFunction() {
      var x = document.getElementById("pwd");
      if (x.type === "password") {
        x.type = "text";
      } else {
        x.type = "password";
      }
    }
    </script>
</body>

</html>